if (self.CavalryLogger) { CavalryLogger.start_js(["y2Ny7"]); }

__d("TimelineProfilePictureLoggerEnums",[],(function(a,b,c,d,e,f){e.exports={actions:{ADD_FRAME:"add_frame",EDIT_THUMBNAIL:"edit_thumbnail",FROM_PHOTOS:"from_photos",MAKE_PROFILE:"make_profile",SILHOUETTE:"silhouette",SUGGESTION:"suggestion",SUGGESTION_UPLOAD:"suggestion_upload",SYNCED_PHOTO:"synced_photo",TAKE_PHOTO:"take_photo",UPLOAD:"upload_photo",USE_PREVIOUS:"use_previous"},flows:{PERMALINK:"permalink",SNOWLIFT:"snowlift",SPOTLIGHT:"spotlight",VAULT:"vault",ZOOMCROP:"zoomcrop"},steps:{CANCEL:"cancel",CROP:"crop",CROP_FAIL:"crop_fail",CROP_SAVING:"crop_saving",CROP_SUCCESS:"crop_success",DRAG_AND_DROP:"drag_and_drop",FAIL:"fail",INIT:"init",LOADING:"loading",PREVIOUS_PIC_FAIL:"previous_pic_fail",PREVIOUS_PIC_INIT:"previous_pic_init",PREVIOUS_PIC_SAVING:"previous_pic_saving",PREVIOUS_PIC_SUCCESS:"previous_pic_success",RESIZE_BEGIN:"resize_begin",RESIZE_SKIPPED:"resize_skipped",RESIZE_SUCCESS:"resize_success",RESIZE_FAIL:"resize_fail",SKIP_CROP:"skip_crop",SUCCESS:"success",UPLOAD_CANCEL:"upload_cancel",UPLOAD_SELECT:"upload_select",UPLOAD_SUCCESS:"upload_success",VIEWER_INIT:"viewer_init"}}}),null);
__d("ProfileIntroCardEditMediaFunnelLogger",["Event","FunnelLogger"],(function(a,b,c,d,e,f){var g="WWW_PROFILE_INTRO_CARD_EDIT_MEDIA_FUNNEL";function a(a){b("Event").listen(a,"click",function(){b("FunnelLogger").endFunnel(g)})}function c(a){b("Event").listen(a,"click",function(){b("FunnelLogger").appendAction(g,"save"),b("FunnelLogger").endFunnel(g)})}function d(a){b("Event").listen(a,"click",function(){b("FunnelLogger").startFunnel(g),b("FunnelLogger").appendAction(g,"intro_card_edit")})}function f(){b("FunnelLogger").addFunnelTag(g,"in_new_editor")}function h(a){b("Event").listen(a,"click",function(){b("FunnelLogger").startFunnel(g),b("FunnelLogger").appendAction(g,"single_edit")})}function i(){b("FunnelLogger").appendAction(g,"see_dialog")}function j(){b("FunnelLogger").appendAction(g,"open_picker")}function k(a){b("Event").listen(a,"click",function(){b("FunnelLogger").appendAction(g,"add_media")})}function l(){b("FunnelLogger").appendAction(g,"add_media")}function m(){b("FunnelLogger").appendAction(g,"remove_media")}function n(){b("FunnelLogger").appendAction(g,"search")}function o(){b("FunnelLogger").appendAction(g,"see_more")}function p(){b("FunnelLogger").appendAction(g,"section_names_loaded")}function q(){b("FunnelLogger").appendAction(g,"section_loaded")}function r(){b("FunnelLogger").appendAction(g,"empty_section_loaded")}function s(){b("FunnelLogger").appendAction(g,"all_sections_loaded")}function t(){b("FunnelLogger").appendAction(g,"upload_start")}function u(){b("FunnelLogger").appendAction(g,"upload_succes")}e.exports={logCancel:a,logSave:c,logSeeDialog:i,logSingleEdit:h,logIntroCardEdit:d,logOpenPicker:j,logAddMedia:k,directlyLogAddMedia:l,directlyLogRemoveMedia:m,logSearch:n,logSeeMore:o,logSectionNamesLoaded:p,logSeeMoreSectionLoaded:q,logAllSectionsInitialLoad:s,logEmptySectionLoaded:r,logUploadStart:t,logUploadSuccess:u,addNewEditorTag:f}}),null);
__d("ProfilePhotoActionLogger",["Banzai"],(function(a,b,c,d,e,f){a={EVENT_SELECT_METHOD:"select_method",EVENT_CAMERA_PERMISSION_PROVIDED:"permission_provided",EVENT_CAMERA_PERMISSION_DENIED:"permission_denied",EVENT_CAMERA_NO_WEBCAM:"permission_denied",EVENT_CAMERA_UNKNOWN_MEDIASTREAM_ERROR:"unknown_mediastream_error",EVENT_CAMERA_TAKE_PHOTO:"take_photo",EVENT_CAMERA_RETAKE_PHOTO:"retake_photo",EVENT_CAMERA_UPLOAD_ATTEMPT:"upload_attempt",EVENT_CAMERA_UPLOAD_ERROR:"upload_error",EVENT_CAMERA_UPLOAD_SUCCESS:"upload_success",SOURCE_SUGGESTIONS:"suggestions",SOURCE_TIMELINE:"timeline",SOURCE_NUX:"nux",METHOD_EXISTING:"existing",METHOD_UPLOAD:"upload",METHOD_CAMERA:"camera",log:function(a,c,d){b("Banzai").post("profile_photo_action",{event:a,source:c,method:d})}};e.exports=a}),null);
__d("TimelineProfilePicConfig",["fbt"],(function(a,b,c,d,e,f,g){a={loading:"timeline/profile_pic/loading",success:"timeline/profile_pic/success",leavingMessage:g._("Your profile picture is still uploading, are you sure you want to leave?")};e.exports=a}),null);
__d("ProfilePictureFlowLogging",["Arbiter","Banzai","CurrentUser","Event","Parent","ProfilePhotoActionLogger","Run","TimelineProfilePicConfig","TimelineProfilePictureLoggerEnums","WebFunnelLogger","tidyEvent"],(function(a,b,c,d,e,f){var g=b("TimelineProfilePicConfig").loading,h=b("TimelineProfilePicConfig").success,i="data-action-type",j,k,l,m;function n(){m&&m.unsubscribe(),m=null}function o(a){var c=new(b("WebFunnelLogger"))("ProfileBlueTimelineWebFunnelDefinition").setSessionKey(b("CurrentUser").getID());a===p.step.UPLOAD_SUCCESS?c.setAction("[action][profile picture edit dialog][upload success]").log():j===p.action.ADD_FRAME&&a===p.step.VIEWER_INIT?c.setAction("[impression][profile picture edit dialog][frame selector]").log():a===p.step.VIEWER_INIT?c.setAction("[impression][profile picture edit dialog][edit thumbnail]").log():a===p.step.SUCCESS&&c.setAction("[action][profile picture edit dialog][save success]").log()}var p={action:b("TimelineProfilePictureLoggerEnums").actions,flow:b("TimelineProfilePictureLoggerEnums").flows,step:b("TimelineProfilePictureLoggerEnums").steps,log:function(a){var c=a||p.step.INIT;b("Banzai").post("profile_pic_action",{action_type:j,flow_type:k,step_type:c});o(c);j===p.action.UPLOAD&&c===p.step.INIT&&b("ProfilePhotoActionLogger").log(b("ProfilePhotoActionLogger").EVENT_SELECT_METHOD,l,b("ProfilePhotoActionLogger").METHOD_UPLOAD);k=null;(a==="success"||a==="fail")&&(j=null);return p},setAction:function(a){j=a;return p},setFlowType:function(a){k=a;return p},setSource:function(a){l=a;return p},init:function(a,c){c&&(l=c),m||(m=b("Arbiter").subscribe([g,h],function(a){p.log(a===g?b("TimelineProfilePictureLoggerEnums").steps.LOADING:b("TimelineProfilePictureLoggerEnums").steps.SUCCESS)}),b("Run").onLeave(n)),b("tidyEvent")(b("Event").listen(a,"click",function(a){a=b("Parent").byAttribute(a.getTarget(),i);if(!a)return;p.setAction(a.getAttribute(i)).log()}))},initMenuItems:function(a,b,c){p.init(a.getRoot(),c)}};e.exports=p}),null);
__d("XWorkNewsfeedNuxNextStepController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/work/newsfeed_nux/next_step/",{})}),null);
__d("ProfilePicCropViewerInit",["Bootloader","CurrentCommunity","ProfilePictureFlowLogging","React","ServerRedirect","XWorkNewsfeedNuxNextStepController"],(function(a,b,c,d,e,f){var g=b("React"),h="profile-picture-crop",i="loading",j=b("ProfilePictureFlowLogging").flow,k,l;function m(){l&&l.close()}function n(a,c,d){d=d||{};b("Bootloader").loadModules(["SpotlightViewerInit","ZoomProfilePicCropViewer.react","PhotoStore","AsyncRequest","AsyncResponse","XProfilePicCropViewerAsyncController"],function(e,f,j,n,o,p){m();var q=d.stickerID;k=h+":"+a+":"+c;q&&(k+=":"+q);var r=d.successCallback,s=b("CurrentCommunity").getID()!=="0";!r&&(d.source==="atwork_nux"||d.source==="timeline"||d.source==="atwork_profile_nux")&&s&&(r=function(a){a=b("XWorkNewsfeedNuxNextStepController").getURIBuilder().getURI();new n().setURI(a).setData({current_step_id:1,skipped:!1}).setHandler(function(){b("ServerRedirect").reloadPage()}).send()});if(!d.skipCropping){l=e.render(g.jsx(f,{cancelCallback:d.cancelCallback,cropMode:d.cropMode,errorCallback:d.errorCallback,method:d.method,open:!0,photoID:a,profileID:c,setid:k,source:d.source,successCallback:r,uploadRequest:d.uploadRequest,warnOnCancel:d.warnOnCancel}),function(){l=null});if(j.hasBeenCreated(k)||a===i)return;s=p.getURIBuilder().setString("photo_id",a).setInt("profile_id",c).setString("set_id",k).setBool("will_load_more_photos",!0);q&&s.setInt("sticker_id",q);s=s.getURI();var t=k;new n(s).setErrorHandler(function(a){t===k&&m(),o.defaultErrorHandler(a)}).send()}},"ProfilePicCropViewerInit");return!0}a={close:m,getFlowType:function(){return j.ZOOMCROP},useCropViewer:function(){return!0},loading:function(a,b){n(i,a,b)},loadID:n};e.exports=a}),null);
__d("ProfileWizardUIEvents",[],(function(a,b,c,d,e,f){a=Object.freeze({CUSTOM_HIDE_HANDLE:"ProfileWizardUIEvents/customHideHandle",CUSTOM_SHOW_HANDLE:"ProfileWizardUIEvents/customShowHandle",HIDE_POPUP:"ProfileWizardUIEvents/hidePopup",PROFILE_PIC_UPLOADED:"ProfileWizardUIEvents/profilePicUploaded",SHOW_POPUP:"ProfileWizardUIEvents/showPopup",STEP_COMPLETE:"ProfileWizardUIEvents/stepComplete",STEP_EDITED:"ProfileWizardUIEvents/stepEdited"});e.exports=a}),null);
__d("XProfileWizardImpressionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/wizard_impression/{surface}/",{error_code:{type:"Int"},step:{type:"Int",required:!0},surface:{type:"Enum",required:!0,enumType:1}})}),null);
__d("ProfileWizardUIManager",["invariant","Arbiter","AsyncRequest","ProfileWizardUIEvents","XProfileWizardImpressionController","destroyOnUnload"],(function(a,b,c,d,e,f,g){a=function(){"use strict";function a(c,d){d===void 0&&(d=null);this.$1=c;this.$2=d||this.$1[0];var e=b("Arbiter").subscribe(b("ProfileWizardUIEvents").STEP_COMPLETE,this.stepComplete.bind(this));d!=null&&a.informShowPopupForStep(d);b("destroyOnUnload")(function(){return e.unsubscribe()})}var c=a.prototype;c.stepComplete=function(b,c){b=this.getNextStepIndex(c.stepNumber);b&&(a.informShowPopupForStep(b),this.$2=b)};c.getCurrentStepIndex=function(){return this.$2};c.getNextStepIndex=function(a){a=this.$1.indexOf(a);a!==-1||g(0,1894);return a<this.$1.length-1?this.$1[a+1]:null};c.hasNextStep=function(){return!!this.getNextStepIndex(this.getCurrentStepIndex())};a.informShowPopupForStep=function(a){b("Arbiter").inform(b("ProfileWizardUIEvents").SHOW_POPUP+a,{stepNumber:a},"persistent")};a.informHidePopupForStep=function(a){b("Arbiter").inform(b("ProfileWizardUIEvents").HIDE_POPUP+a,{stepNumber:a},"persistent")};a.informStepComplete=function(a){b("Arbiter").inform(b("ProfileWizardUIEvents").STEP_COMPLETE,{stepNumber:a})};a.informCustomShowHandler=function(a){b("Arbiter").inform(b("ProfileWizardUIEvents").CUSTOM_SHOW_HANDLE+a,{stepNumber:a},"persistent")};a.informCustomHideHandler=function(a){b("Arbiter").inform(b("ProfileWizardUIEvents").CUSTOM_HIDE_HANDLE+a,{stepNumber:a},"persistent")};a.subscribeShowPopupForStep=function(c,d,e){return a.$3(b("ProfileWizardUIEvents").SHOW_POPUP,c,e)};a.subscribeHidePopupForStep=function(c,d,e){return a.$3(b("ProfileWizardUIEvents").HIDE_POPUP,c,e)};a.subscribeCustomShowHandler=function(c,d){return a.$3(b("ProfileWizardUIEvents").CUSTOM_SHOW_HANDLE,c,d)};a.subscribeCustomHideHandler=function(c,d){return a.$3(b("ProfileWizardUIEvents").CUSTOM_HIDE_HANDLE,c,d)};a.$3=function(a,c,d){var e=b("Arbiter").subscribe(a+c,d);b("destroyOnUnload")(function(){return e.unsubscribe()});return e};a.markStepImpression=function(a,c){a=b("XProfileWizardImpressionController").getURIBuilder().setInt("step",a).setEnum("surface",c).getURI();new(b("AsyncRequest"))().setURI(a).send()};a.init=function(b,c){c===void 0&&(c=null);return new a(b,c)};return a}();e.exports=a}),null);
__d("XTimelineCoverPhotoGalleryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/timeline/cover/gallery/",{})}),null);
__d("TimelineCoverPhotoNUX",["cx","AsyncRequest","CSS","ProfileWizardUIManager","XTimelineCoverPhotoGalleryController","$","destroyOnUnload"],(function(a,b,c,d,e,f,g){var h="fbProfileCover",i="_3y4k";a=function(){"use strict";a.init=function(b,c,d,e){new a(b,c,d,e)};function a(a,c,d,e){var f=this;this.$6=!1;this.$2=c;this.$1=b("$")(h);this.$4=a.getPopover();this.$3=e;b("ProfileWizardUIManager").subscribeCustomShowHandler(d,function(){return f.$7()});b("ProfileWizardUIManager").subscribeCustomHideHandler(d,function(){return f.$8()});this.$5=this.$4.subscribeOnce("show",function(){if(f.$3||f.$6)return;f.$4.hideLayer();f.$7()});var g=this.$2.subscribe("cancel",function(){b("CSS").removeClass(f.$1,i)}),j=this.$2.subscribe("confirm",function(){f.$4.showLayer(),f.$8()});b("destroyOnUnload")(function(){f.$2.unsubscribe(g),f.$2.unsubscribe(j),f.$4.unsubscribe(f.$5)})}var c=a.prototype;c.$8=function(){this.$2.hide(),b("CSS").removeClass(this.$1,i)};c.$7=function(){if(this.$6)return;this.$2.show();this.$3||(b("CSS").addClass(this.$1,i),new(b("AsyncRequest"))().setURI(b("XTimelineCoverPhotoGalleryController").getURIBuilder().getURI()).send());this.$6=!0};return a}();e.exports=a}),null);
__d("XProfileRefresherDialogImpressionController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/profile/refresher/dialog_impression/",{})}),null);
__d("ProfileActionsUpdateInfoButton",["AsyncRequest","CSS","Event","XProfileRefresherDialogImpressionController","destroyOnUnload"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a,c,d){var e=this;this.$1=b("Event").listen(a,"click",function(){c.hide(),b("CSS").hide(d),e.$2()});c.subscribe("cancel",function(){return e.$2()});b("destroyOnUnload")(function(){return e.$3()})}var c=a.prototype;c.$3=function(){this.$1&&this.$1.remove()};c.$2=function(){new(b("AsyncRequest"))().setURI(b("XProfileRefresherDialogImpressionController").getURIBuilder().getURI()).send()};return a}();e.exports=a}),null);
__d("ProfileWizardStepFlyout",["DOMScroll","Event","ProfileWizardUIManager","destroyOnUnload"],(function(a,b,c,d,e,f){a=function(a,c,d){"use strict";b("ProfileWizardUIManager").subscribeShowPopupForStep(c,d,function(){b("DOMScroll").scrollTo(a.getCausalElement(),500,!1,0,20,function(){b("ProfileWizardUIManager").informCustomShowHandler(c),a.show()})});b("ProfileWizardUIManager").subscribeHidePopupForStep(c,d,function(){b("ProfileWizardUIManager").informCustomHideHandler(c),a.hide()});var e=b("Event").listen(a.getCausalElement(),"click",function(){return b("ProfileWizardUIManager").informHidePopupForStep(c)}),f=[a.subscribe("cancel",function(){b("ProfileWizardUIManager").informStepComplete(c),b("ProfileWizardUIManager").markStepImpression(c,d)}),a.subscribe("confirm",function(){a.hide(),b("ProfileWizardUIManager").markStepImpression(c,d)})];b("destroyOnUnload")(function(){while(f.length)a.unsubscribe(f.pop());e.remove()})};e.exports=a}),null);
__d("InfoReviewRequestForm",["csx","DOM","Event","tidyEvent"],(function(a,b,c,d,e,f,g){a={initNUX:function(a,c){b("tidyEvent")(b("Event").listen(a,"click",function(){var a=b("DOM").scry(c,"._58al")[0];a&&a.focus()}))}};e.exports=a}),null);